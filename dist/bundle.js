(()=>{"use strict";class t{createObject(){this.books=[{Id:1,title:"Lorem ipsum",author:"Testeroo Testyy"},{Id:2,title:"Second Books",author:"Testeroo Testyy"}],null!=localStorage.getItem("books")&&(this.books=JSON.parse(localStorage.getItem("books")))}displayBooks(){const t=this.books;let e="",o=1;for(let s=0;s<t.length;s+=1)e+=`<div id='books-container${o}'>`,e+=`<div id='book-author'><p id="booktext">"${t[s].title}" by ${t[s].author}</p></div>`,e+=`<button class="remove-btn" data-book-id="${t[s].Id}">Remove</button></div>`,o=1===o?2:1;document.getElementById("display").innerHTML=e,this.addRemoveButtonListeners()}addBooks(){const t=this.books,e=document.getElementById("title").value,o=document.getElementById("author").value;if(""!==e&&""!==o){const s=t.length+1;t.push({Id:s,title:e,author:o}),this.displayBooks(),document.querySelector("form").reset(),this.saveToLocalStorage()}}removeBooks(t){const e=this.books.findIndex((e=>e.Id===t));-1!==e&&(this.books.splice(e,1),this.displayBooks(),this.saveToLocalStorage())}saveToLocalStorage(){localStorage.setItem("books",JSON.stringify(this.books))}addRemoveButtonListeners(){const t=document.getElementsByClassName("remove-btn");for(let e=0;e<t.length;e++){const o=t[e],s=o.dataset.bookId;o.addEventListener("click",(()=>{this.removeBooks(parseInt(s))}))}}}document.addEventListener("DOMContentLoaded",(()=>{const e=new t;e.createObject(),e.displayBooks(),e.saveToLocalStorage(),document.getElementById("addbtn").addEventListener("click",(()=>{e.addBooks()})),document.addEventListener("click",(t=>{if(t.target.classList.contains("remove-btn")){const o=parseInt(t.target.dataset.bookId);e.removeBooks(o)}}))}))})();