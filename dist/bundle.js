(()=>{"use strict";class e{createObject(){this.books=[{Id:1,title:"Lorem ipsum",author:"Testeroo Testyy"},{Id:2,title:"Second Books",author:"Testeroo Testyy"}],null!=localStorage.getItem("books")&&(this.books=JSON.parse(localStorage.getItem("books")))}displayBooks(){const e=this.books;let t="",o=1;for(let s=0;s<e.length;s+=1)t+=`<div id='books-container${o}'>`,t+=`<div id='book-author'><p id="booktext">"${e[s].title}" by ${e[s].author}</p></div>`,t+=`<button class="remove-btn" data-book-id="${e[s].Id}">Remove</button></div>`,o=1===o?2:1;document.getElementById("display").innerHTML=t,this.addRemoveButtonListeners()}addBooks(){const e=this.books,t=document.getElementById("title").value,o=document.getElementById("author").value;if(""!==t&&""!==o){const s=e.length+1;e.push({Id:s,title:t,author:o}),this.displayBooks(),document.querySelector("form").reset(),this.saveToLocalStorage()}}removeBooks(e){const t=this.books.findIndex((t=>t.Id===e));-1!==t&&(this.books.splice(t,1),this.displayBooks(),this.saveToLocalStorage())}saveToLocalStorage(){localStorage.setItem("books",JSON.stringify(this.books))}addRemoveButtonListeners(){const e=document.getElementsByClassName("remove-btn");for(let t=0;t<e.length;t++){const o=e[t],s=o.dataset.bookId;o.addEventListener("click",(()=>{this.removeBooks(parseInt(s))}))}}}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.getElementById("lists-nav"),t=document.getElementById("add-new-nav"),o=document.getElementById("contactus-nav"),s=document.getElementById("add-new"),n=document.getElementById("contactus"),d=document.getElementById("lists");t.addEventListener("click",(()=>{s.style.display="flex",n.style.display="none",d.style.display="none"})),o.addEventListener("click",(()=>{n.style.display="flex",s.style.display="none",d.style.display="none"})),e.addEventListener("click",(()=>{d.style.display="flex",s.style.display="none",n.style.display="none"}))}();const t=new e;t.createObject(),t.displayBooks(),t.saveToLocalStorage(),document.getElementById("addbtn").addEventListener("click",(()=>{t.addBooks()})),document.addEventListener("click",(e=>{if(e.target.classList.contains("remove-btn")){const o=parseInt(e.target.dataset.bookId);t.removeBooks(o)}}))}))})();